% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/explore_causal.R
\name{explore_causal}
\alias{explore_causal}
\title{Explore Potential Causal Relationships in a Dataset}
\usage{
explore_causal(data, outcome = NULL, treatment = NULL, covariate = NULL, type)
}
\arguments{
\item{data}{A data.frame containing the variables of interest.}

\item{outcome}{Optional. Name of the outcome variable.}

\item{treatment}{Optional. Name of the treatment variable.}

\item{covariate}{Optional. Name of the covariate variable to explore.}

\item{type}{A character string specifying the type of exploration:
\itemize{
\item "distribution": distribution or bar plot of a covariate
\item "relationship": relationship between covariate and treatment/outcome
\item "dag": generates a causal DAG and detects potential confounders
}}
}
\value{
A ggplot2 object (for "distribution" and "relationship") or a ggraph DAG plot (for "dag").
}
\description{
This function provides visual exploration tools to investigate causal relationships between covariates, treatment, and outcome. It can produce:
\itemize{
\item Distribution plots of a single covariate
\item Relationship plots between covariates and treatment or outcome
\item Automated DAGs to detect potential confounders using Hill-Climbing structure learning
}
}
\details{
\itemize{
\item Distribution plots:
\item Numeric covariates: density plots
\item Factor covariates: bar plots
\item Relationship plots:
\item Covariate vs treatment or outcome, with boxplots, scatterplots, or mosaic plots depending on variable types
\item DAG plotting:
\item Uses bnlearn::hc() (Hill-Climbing) to learn the DAG structure from the data
\item Converts DAG to igraph and plots using ggraph
\item Annotates nodes as Treatment, Outcome, Covariate, or Confounder (nodes affecting both treatment and outcome)
\item Highlights edges with colors according to type (Treatment → Outcome, Covariate → Outcome, Covariate → Treatment)
}
}
\section{Notes}{

\itemize{
\item The function can automatically identify potential confounders when type = "dag"; these can be directly fed into adjust_confounders() as the confounders argument.
\item Supports numeric and factor variables for covariates, treatment, and outcome.
\item Requires packages: ggplot2, ggraph, igraph, bnlearn, forcats, viridis, and ggmosaic.
}
}

\examples{
\dontrun{
# Distribution of a numeric covariate
explore_causal(data = df, covariate = "age", type = "distribution")

# Relationship between covariate and treatment
explore_causal(data = df, covariate = "income", treatment = "treat", type = "relationship")

# DAG with automatic detection of potential confounders
dag_plot <- explore_causal(data = df, outcome = "Y", treatment = "treat", covariate = "age", type = "dag")
print(dag_plot)

# Use detected confounders for adjustment
confounders <- explore_causal(data = df, outcome = "Y", treatment = "treat", type = "dag")$confounders
adjusted_df <- adjust_confounders(data = df, confounders = confounders, outcome = "Y", treatment = "treat", method = "regression")
}

}
\seealso{
\code{\link{adjust_confounders}}, \code{\link{ggplot2}}, \code{\link{bnlearn}}, \code{\link{ggraph}}
}
